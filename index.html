<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameWiki - Tu Enciclopedia de Videojuegos</title>
    <link rel="icon" type="image/png" href="public/logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Montserrat:wght@700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="src/styles.css">
</head>

<body>
    <header class="main-header">
        <div class="header-container">
            <div class="logo-container" id="home-link">
                <img src="public/logo.png" alt="GameWiki Logo" class="nav-logo-icon">
                <span class="logo-text">GAME<span style="color: var(--primary);">WIKI</span></span>
            </div>

            <div class="search-wrapper">
                <div class="search-bar">
                    <svg class="search-icon" viewBox="0 0 24 24" width="20" height="20">
                        <path
                            d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                            fill="currentColor" />
                    </svg>
                    <input type="text" id="game-search" placeholder="Busca un juego..." autocomplete="off">
                    <button id="filters-toggle-btn" class="filters-toggle-btn" title="Advanced Filters">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M22 3H2l8 9.46V19l4 2v-8.54L22 3z" />
                        </svg>
                    </button>
                </div>
                <div id="search-filters-panel" class="search-filters-panel hidden">
                    <div class="filters-row">
                        <select id="filter-genre" class="filter-select">
                            <option value="">All Genres</option>
                        </select>
                        <select id="filter-year" class="filter-select">
                            <option value="">All Years</option>
                        </select>
                        <select id="filter-developer" class="filter-select">
                            <option value="">All Developers</option>
                        </select>
                        <button id="clear-filters-btn" class="clear-filters-btn">Clear</button>
                    </div>
                </div>
                <div id="search-results" class="search-results hidden"></div>
            </div>

            <div class="actions">
                <button id="favorites-btn" class="favorites-header-btn" title="My Favorites">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <path
                            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
                    </svg>
                    <span id="favorites-count" class="favorites-count">0</span>
                </button>
                <button id="theme-toggle" class="theme-btn" title="Toggle Dark Mode">
                    <svg class="theme-icon-light" viewBox="0 0 24 24" width="20" height="20">
                        <path
                            d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41l-1.06-1.06zm1.06-12.37a.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06a.996.996 0 0 0 0-1.41zM5.99 18.01l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06c.39-.39.39-1.03 0-1.41s-1.03-.39-1.41 0z"
                            fill="currentColor" />
                    </svg>
                </button>
                <button id="lang-toggle" class="lang-btn">
                    <span id="lang-text">EN</span>
                </button>
            </div>
        </div>
    </header>

    <main id="app-content">
        <!-- Home Presentation Section -->
        <section id="hero" class="hero-section">
            <div class="hero-content">
                <h1 id="hero-title">Bienvenidos a GameWiki</h1>
                <p id="hero-subtitle">La enciclopedia definitiva con más de 100 títulos legendarios analizados en
                    detalle.</p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-value">100+</span>
                        <span class="stat-label" id="stat-games">Juegos</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value">Bilingual</span>
                        <span class="stat-label" id="stat-lang">ES / EN</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dynamic Content Section -->
        <div id="wiki-container" class="wiki-container hidden">
            <aside class="wiki-sidebar" id="wiki-sidebar"></aside>
            <article class="wiki-article" id="wiki-article"></article>
            <aside class="wiki-appearance-sidebar" id="wiki-appearance-sidebar"></aside>
        </div>

        <div id="genre-filter" class="genre-filter-container container">
            <!-- Genre buttons will be injected here -->
        </div>

        <section id="game-grid" class="game-grid">
            <!-- Grid of games for the home page -->
        </section>
        <div id="load-more-trigger" class="load-more-trigger">
            <div class="loader-dots">
                <span></span><span></span><span></span>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 GameWiki. Hecho por Akiyama para fans.</p>
        <p>Game data provided by <a href="https://rawg.io/">RAWG</a></p>
    </footer>

    <!-- Deals Modal -->
    <div id="deals-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="modal-title">Ofertas Disponibles</h2>
            <div id="modal-stores" class="modal-body">
                <!-- content injected via JS -->
            </div>
        </div>
    </div>

    <!-- Lightbox for Image Gallery -->
    <div id="lightbox" class="lightbox">
        <button class="lightbox-close">&times;</button>
        <img class="lightbox-img" src="" alt="Full size screenshot">
    </div>

    <script src="src/data.js"></script>
    <script src="src/rawg-api.js"></script>
    <script src="src/search-functions.js"></script>
    <script src="src/main.js"></script>
</body>

</html>
